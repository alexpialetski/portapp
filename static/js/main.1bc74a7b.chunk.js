(this.webpackJsonpportapp=this.webpackJsonpportapp||[]).push([[0],{402:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(46),i=n.n(c),o=n(454),s=n(453),u=n(81),j=n(30),l=n(239),b=Object(l.a)({}),d="assets",O="portfolio",h="upload",p=n(24),m=n(15),f=n(11),x=n(455),v=n(464),g=n(456),y=n(466),w=n(465),k=n(467),S=n(218),I=n.n(S),D=n(219),F=n.n(D),C=n(13),P=n(71),L=n(457),A=n(1),T=function(e){return Object(A.jsx)(x.a,{sx:{margin:"8px 0",flex:"0 1 auto"},children:Object(A.jsxs)(g.a,Object(p.a)(Object(p.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(A.jsx)(L.a,{color:"inherit",href:"https://mui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]}))})},W=n(458),z=Object(C.a)(W.a,{shouldForwardProp:function(e){return"open"!==e&&"drawerWidth"!==e}})((function(e){var t=e.theme,n=e.open,r=e.drawerWidth;return Object(p.a)({zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},n&&{marginLeft:r,width:"calc(100% - ".concat(r,"px)"),transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})})})),N=n(448),U=Object(C.a)(N.a,{shouldForwardProp:function(e){return"open"!==e&&"drawerWidth"!==e}})((function(e){var t,n=e.theme,r=e.open,a=e.drawerWidth;return{zIndex:n.zIndex.drawer,"& .MuiDrawer-paper":Object(p.a)((t={position:"relative",whiteSpace:"nowrap",width:a,transition:n.transitions.create("width",{easing:n.transitions.easing.sharp,duration:n.transitions.duration.enteringScreen})},Object(f.a)(t,n.breakpoints.down("sm"),{position:"absolute",height:"100%",zIndex:n.zIndex.appBar}),Object(f.a)(t,"boxSizing","border-box"),t),!r&&Object(f.a)({overflowX:"hidden",transition:n.transitions.create("width",{easing:n.transitions.easing.sharp,duration:n.transitions.duration.leavingScreen}),width:n.spacing(7)},n.breakpoints.up("sm"),{width:n.spacing(9)}))}})),B=Object(C.a)("div")((function(e){return{zIndex:e.theme.zIndex.drawer-1,width:"100vw",height:"100vh",position:"fixed",backgroundColor:"black",animation:"fadeIn 500ms ease",opacity:.2,"@keyframes fadeIn":{from:{opacity:0},to:{opacity:.2}}}})),E=n(460),K=n(461),M=n(462),R=n(463),Y=n(215),_=n.n(Y),J=n(214),G=n.n(J),q=n(216),H=n.n(q),V=[{path:"/".concat(h),text:"Upload",Icon:Object(A.jsx)(G.a,{})},{path:"/".concat(O),text:"Portfolio",Icon:Object(A.jsx)(_.a,{})},{path:"/".concat(d),text:"Asset",Icon:Object(A.jsx)(H.a,{})}],X=function(){var e=Object(j.g)(),t=Object(j.h)(),n=Object(r.useCallback)((function(t){return function(){e.push(t)}}),[e]),a=function(e){return t.pathname.includes(e)};return Object(A.jsx)(E.a,{children:V.map((function(e){var t=e.Icon,r=e.text,c=e.path;return Object(A.jsxs)(K.a,{onClick:n(c),selected:a(c),children:[Object(A.jsx)(M.a,{children:t}),Object(A.jsx)(R.a,{primary:r})]},c)}))})},Q=Object(l.a)(),Z=Object(C.a)("main")((function(e){var t=e.theme;return Object(f.a)({backgroundColor:"light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[900],flexGrow:1,height:"100vh",overflow:"auto",display:"flex",flexDirection:"column"},t.breakpoints.down("sm"),{marginLeft:t.spacing(7),width:"calc(100% - ".concat(t.spacing(7),"px)")})})),$=Object(C.a)(B)((function(e){var t=e.theme;return Object(f.a)({},t.breakpoints.up("sm"),{display:"none"})})),ee=function(e){var t,n=e.children,a=Object(j.h)(),c=Object(P.a)(),i=Object(r.useState)(window.innerWidth>c.breakpoints.values.md),u=Object(m.a)(i,2),l=u[0],b=u[1],d=function(){b(!l)},O=null===(t=V.find((function(e){return a.pathname.includes(e.path)})))||void 0===t?void 0:t.text;return Object(A.jsx)(s.a,{theme:Q,children:Object(A.jsxs)(x.a,{sx:{display:"flex"},children:[Object(A.jsx)(o.a,{}),Object(A.jsx)(z,{position:"absolute",open:l,drawerWidth:240,children:Object(A.jsxs)(v.a,{variant:"dense",children:[Object(A.jsx)(w.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:d,sx:Object(p.a)({marginRight:"36px"},l&&{display:"none"}),children:Object(A.jsx)(I.a,{})}),Object(A.jsx)(g.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,sx:{flexGrow:1},children:O})]})}),Object(A.jsxs)(U,{variant:"permanent",open:l,drawerWidth:240,children:[Object(A.jsx)(v.a,{variant:"dense",sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",px:[1]},children:Object(A.jsx)(w.a,{onClick:d,children:Object(A.jsx)(F.a,{})})}),Object(A.jsx)(y.a,{}),Object(A.jsx)(X,{})]}),l&&Object(A.jsx)($,{onClick:d}),Object(A.jsxs)(Z,{children:[Object(A.jsx)(v.a,{sx:{flex:"0 1 auto"}}),Object(A.jsx)(k.a,{maxWidth:"lg",sx:{mt:4,mb:4,flexGrow:1,padding:"0 !important"},children:n}),Object(A.jsx)(T,{})]})]})})},te=n(242),ne=n(124),re=n(125),ae=n(160),ce=n(220),ie=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"price",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],c=Object.keys(t).map((function(r){var c=t[r][e];return{date:Number(r),price:c&&c[n]||0,volume:a&&(null===c||void 0===c?void 0:c.volume)||0}}));return{label:r,data:c}},oe=function(e){return new Date(e).toLocaleDateString("en",{year:"numeric",month:"short",day:"numeric"})},se=function(e){return Number(e.toFixed()).toString()},ue=function(e){return Number(e.toFixed(3)).toString()},je=function(e){return e.length>22},le=n(31),be=function(e){return new Date(e).setUTCHours(0,0,0,0)},de=function(e,t){for(var n=be(e),r=be(t),a=[n];a[a.length-1]<r;)a.push(a[a.length-1]+864e5);return a},Oe=function(e,t){var n=new Date(e);return n.setDate(n.getDate()-t)},he=function(e){return function(e){for(var t,n=Object.keys(e).sort((function(e,t){return Number(e)-Number(t)})),r={},a=0;a<n.length;a++)t=Object(p.a)({},r[n[a-1]]||{}),r[n[a]]=e[n[a]].reduce((function(e,t){var n=e[t.symbol];return e[t.symbol]=n?Object(p.a)(Object(p.a)({},n),{},{investment:n.investment+t.investment,volume:n.volume+t.volume}):{volume:t.volume,investment:t.investment},e}),t);return r}(e.filter(je).reduce((function(e,t){var n=be(+new Date(t[1])),r=e[n]||[];if(["BUY Market","SELL Market"].includes(t[2])){var a=t[5].split("/").map((function(e){return e.trim()})),c=Object(m.a)(a,2),i=c[0],o=c[1];r.push({symbol:i,volume:parseFloat(t[19]),investment:"USD"===o?-1*parseFloat(t[20]):0}),r.push({symbol:o,volume:parseFloat(t[20]),investment:0})}else r.push({symbol:t[5],volume:parseFloat(t[19]),investment:parseFloat(t[19])});return Object(p.a)(Object(p.a)({},e),{},Object(f.a)({},n,r))}),{}))},pe=function(e){return e.map((function(e){return e.data.values.reduce((function(t,n){var r=Object(m.a)(n,2),a=r[0],c=r[1];return Object(p.a)(Object(p.a)({},t),{},Object(f.a)({},a,{price:c,symbol:e.data.symbol}))}),{})})).reduce((function(e,t){return Object.keys(t).reduce((function(e,n){return Object(p.a)(Object(p.a)({},e),{},Object(f.a)({},n,Object(p.a)(Object(p.a)({},e[n]),{},Object(f.a)({},t[n].symbol,t[n].price))))}),e)}),{})},me=function(e,t){var n=Object.keys(e).map(Number);return Object.keys(t).reduce((function(r,a){var c=function(e,t){var n,r=0,a=Object(le.a)(t);try{for(a.s();!(n=a.n()).done;){var c=n.value;c<=e&&c>r&&(r=c)}}catch(i){a.e(i)}finally{a.f()}return r}(Number(a),n),i=e[c]||{},o=t[a]||{},s=Object.keys(o).reduce((function(e,t){var n,r,a=o[t]||0,c=i[t]||{volume:0,investment:0},s=c.volume*a,u=(null===(n=i.USD)||void 0===n?void 0:n.investment)||0,j=e.TOTAL.price+s;return Object(p.a)(Object(p.a)({},e),{},(r={},Object(f.a)(r,t,{volume:c.volume,price:s,investment:c.investment}),Object(f.a)(r,"TOTAL",{volume:0,price:j,investment:u}),r))}),{TOTAL:{volume:0,price:0,investment:0}});return Object(p.a)(Object(p.a)({},r),{},Object(f.a)({},a,s))}),{})},fe=function(e,t){return Promise.all(e.map((function(e){return"USD"===e?(n=t.start,Promise.resolve({status:{elapsed:0,timestamp:"0"},data:{id:"usd_id",name:"USD",slug:"usd",symbol:"USD",values:de(Number(n),Oe(be((new Date).getTime()),1)).map((function(e){return[e,1]}))}})):function(e,t){return fetch("https://data.messari.io/api/v1/assets/".concat(e,"/metrics/price/time-series?").concat(new URLSearchParams(t).toString())).then((function(e){return e.json()}))}(e,t);var n})))},xe=Object(r.createContext)({setPortfolio:function(){}}),ve=function(){return Object(r.useContext)(xe)},ge=Object(ce.a)("PORTFOLIO_LC_KEY"),ye=function(){function e(){Object(ne.a)(this,e)}return Object(re.a)(e,null,[{key:"getFromStorage",value:function(){var e=localStorage.getItem(Object(ae.a)(this,ge)[ge]);if(e)try{return JSON.parse(e)}catch(t){return}}},{key:"put",value:function(e){localStorage.setItem(Object(ae.a)(this,ge)[ge],JSON.stringify(e))}}]),e}();Object.defineProperty(ye,ge,{writable:!0,value:"PORTFOLIO_LC_KEY"});var we=function(e){var t=e.children,n=Object(r.useState)(ye.getFromStorage()),a=Object(m.a)(n,2),c=a[0],i=a[1],o=Object(r.useState)(),s=Object(m.a)(o,2),u=s[0],j=s[1],l=Object(r.useState)(),b=Object(m.a)(l,2),d=b[0],O=b[1];return Object(r.useEffect)((function(){return c&&ye.put(c)}),[c]),Object(r.useEffect)((function(){if(c){var e=function(e){return Object.keys(e).reduce((function(t,n){return t.length<Object.keys(e[n]).length?Object.keys(e[n]):t}),[])}(c),t=Object.keys(c)[0];O(e),fe(e,{start:t,columns:"close",interval:"1d"}).then(pe).then((function(e){return me(c,e)})).then(j)}}),[c]),Object(A.jsx)(xe.Provider,{value:{portfolio:c,portfolioAssetDayPrice:u,uniqueAssets:d,setPortfolio:i},children:t})},ke=["children"],Se=function(e){var t=e.children,n=Object(te.a)(e,ke);return ve().portfolio?Object(A.jsx)(j.b,Object(p.a)(Object(p.a)({},n),{},{children:t})):Object(A.jsx)(j.a,{to:"/".concat(h)})},Ie=n(221),De=n.n(Ie),Fe=n(222),Ce=n.n(Fe),Pe=(n(267),function(){var e=ve().setPortfolio,t=Object(j.g)();return Object(A.jsx)(Ce.a,{styles:{dropzone:{overflow:"hidden",height:"100%"}},onSubmit:function(n){n.length&&n[0].file.text().then((function(e){return De.a.parse(e).data})).then((function(e){if(function(e){return!!e.find((function(e){return Boolean(Array.isArray(e)&&2===e.length&&"Broker:"===e[0]&&"Free2ex (free2ex.com)"===e[1])}))}(e))return he(e)})).then((function(r){r?(e(r),t.push("/")):n[0].remove()}))},accept:".csv",multiple:!1})}),Le=n(468),Ae=function(){return Object(A.jsx)(x.a,{sx:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"},children:Object(A.jsx)(Le.a,{})})},Te=n(442),We=n(443),ze=n(447),Ne=n(237),Ue=n(238),Be=n(111),Ee=n(241),Ke=n(108),Me=Object(C.a)("div")((function(){return{fontSize:"10px",padding:"4px",background:"rgba(0, 26, 39, 0.9)",color:"white",borderRadius:"4px",textAlign:"center",fontFamily:"sans-serif"}})),Re=Object(C.a)("table")((function(){return{whiteSpace:"nowrap"}})),Ye=Object(C.a)("tr")((function(){return{fontWeight:"bold"}})),_e=Object(C.a)("td")((function(){return{display:"flex",alignItems:"center",justifyContent:"center"}})),Je=Object(C.a)("circle")((function(e){return{stroke:"white",fill:e.color,strokeWidth:2}})),Ge=Object(C.a)("strong")((function(){return{marginBottom:"3px",display:"inline-block"}})),qe=function(e){var t=e.active,n=e.payload;return t&&(null===n||void 0===n?void 0:n.length)?Object(A.jsxs)(Me,{className:"area-chart-tooltip",children:[Object(A.jsx)(Ge,{children:oe(n[0].payload.date)}),Object(A.jsxs)(Re,{children:[Object(A.jsx)("thead",{children:Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{}),Object(A.jsx)("th",{children:"Symbol"}),Object(A.jsx)("th",{children:"Price"}),Object(A.jsx)("th",{children:"Volume"})]})}),Object(A.jsx)("tbody",{children:n.map((function(e){var t=e.payload,n=e.name,r=e.color;return Object(A.jsxs)(Ye,{children:[Object(A.jsx)(_e,{children:Object(A.jsx)("svg",{width:"14",height:"14",children:Object(A.jsx)(Je,{cx:"7",cy:"7",r:"5",color:r})})}),Object(A.jsx)("td",{children:n}),Object(A.jsx)("td",{children:se(t.price)}),Object(A.jsx)("td",{children:ue(t.volume)})]})}))})]})]}):Object(A.jsx)("div",{})},He=["auto","auto"],Ve=["#1976d2","#F99B1C"],Xe=function(e){var t=e.series,n=e.seriesKey,r=void 0===n?"price":n;return Object(A.jsx)(Te.a,{children:Object(A.jsxs)(We.a,{children:[Object(A.jsx)(ze.a,{stroke:"#ccc",strokeDasharray:"5 5"}),Object(A.jsx)(Ne.a,{dataKey:"date",scale:"time",type:"number",tickFormatter:oe,domain:He}),Object(A.jsx)(Ue.a,{dataKey:r,type:"number",tickFormatter:"price"===r?se:ue,domain:He}),Object(A.jsx)(Be.a,{content:Object(A.jsx)(qe,{})}),t.map((function(e,t){var n=Ve[t]||Ve[0];return Object(A.jsx)(Ee.a,{type:"monotone",dataKey:r,data:e.data,name:e.label,stroke:n},e.label)})),t.length>1&&Object(A.jsx)(Ke.a,{})]})})},Qe=function(){var e=ve().portfolioAssetDayPrice,t=Object(r.useMemo)((function(){return e&&[ie("TOTAL",e,"price"),ie("TOTAL",e,"investment","Investments",!1)]}),[e]);return t?Object(A.jsx)(Xe,{series:t}):Object(A.jsx)(Ae,{})},Ze=n(452),$e=function(){var e=ve(),t=e.portfolioAssetDayPrice,n=e.uniqueAssets;return t&&n?Object(A.jsx)(Ze.a,{container:!0,height:"100%",children:n.map((function(e){return Object(A.jsxs)(Ze.a,{item:!0,md:6,xs:12,mb:5,height:300,children:[Object(A.jsx)(g.a,{variant:"h5",children:e}),Object(A.jsx)(Xe,{series:[ie(e,t,"price"),ie(e,t,"investment","Investments",!1)]})]},e)}))}):Object(A.jsx)(Ae,{})},et=function(){return Object(A.jsx)(u.a,{basename:"/portapp",children:Object(A.jsx)(s.a,{theme:b,children:Object(A.jsx)(we,{children:Object(A.jsx)(ee,{children:Object(A.jsxs)(j.d,{children:[Object(A.jsx)(j.b,{exact:!0,path:"/".concat(h),children:Object(A.jsx)(Pe,{})}),Object(A.jsx)(Se,{exact:!0,path:"/".concat(O),children:Object(A.jsx)(Qe,{})}),Object(A.jsx)(Se,{exact:!0,path:"/".concat(d),children:Object(A.jsx)($e,{})}),Object(A.jsx)(j.a,{to:"/".concat(O)})]})})})})})};i.a.render(Object(A.jsxs)(a.a.StrictMode,{children:[Object(A.jsx)(o.a,{}),Object(A.jsx)(et,{})]}),document.getElementById("root"))}},[[402,1,2]]]);
//# sourceMappingURL=main.1bc74a7b.chunk.js.map