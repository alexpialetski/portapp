{"version":3,"sources":["constants/theme.ts","constants/app.ts","components/AppBar.tsx","components/Drawer.tsx","components/Backdrop.tsx","components/SideMenuListItems.tsx","utils/chart.ts","utils/date.ts","utils/csv/free2ex.ts","utils/csv/common.ts","utils/free2ex.ts","utils/messari.ts","utils/portfolio.ts","services/messari.ts","services/PortfolioManager/context.ts","services/PortfolioManager/usePortfolio.ts","services/PortfolioManager/index.tsx","components/BarPortfolioStat.tsx","components/Dashboard.tsx","components/PortfolioRoute.tsx","pages/Upload.tsx","components/Loader.tsx","components/recharts/CustomTooltip.tsx","components/ChartByAsset.tsx","pages/Portfolio.tsx","pages/Assets.tsx","App.tsx","index.tsx"],"names":["theme","createTheme","PAGE_SLUG","AppBar","styled","MuiAppBar","shouldForwardProp","prop","open","drawerWidth","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","marginLeft","width","enteringScreen","Drawer","MuiDrawer","position","whiteSpace","breakpoints","down","height","appBar","overflowX","spacing","up","Backdrop","backgroundColor","animation","opacity","from","to","LINKS","path","text","Icon","SideMenuListItems","history","useHistory","location","useLocation","onButtonClick","useCallback","push","isLinkActive","pathname","includes","List","map","ListItemButton","onClick","selected","ListItemIcon","ListItemText","primary","getChartByAsset","asset","portfolioAssetDayPrice","key","label","haveVolume","data","Object","keys","date","assetInfo","Number","price","volume","formatSeriesDate","Date","toLocaleDateString","year","month","day","formatSeriesNumber","num","toFixed","toString","formatSeriesFloat","resetDateToStart","setUTCHours","getTimestampsFromStart","startDate","endDate","start","now","result","length","getDaysBefore","number","d","setDate","getDate","parseSymbolToGeneric","parsePairSymbol","symbol","split","trim","parseFree2exPortfolio","rawOperations","operations","lastAssetRecord","dates","sort","a","b","groupedPortfolio","i","reduce","acc","assetOperation","prevAssetInfo","investment","parseGroupedPortfolioOperations","free2exOperation","operationDate","updatedOperations","asset1","asset2","parseFloat","appendAssetOperations","slice","isFree2exAssetOperation","isFree2exCSV","csv","find","record","Boolean","Array","isArray","groupTimeseries","timeSeries","series","values","groupedWithPrice","innerAcc","combinePortfolioAndSeries","portfolio","portfolioDates","portfolioDate","currentDate","findClosestAndLessDate","portfolioDateVolume","seriesDateVolume","portfolioBySeries","assetPriceByDate","portfolioAssetInfo","assetPrice","usdInvestments","USD","totalPrice","TOTAL","getDifferenceInPercents","info","getAssetsForPeriod","assets","queryParams","Promise","all","resolve","status","elapsed","timestamp","id","name","slug","getTime","fetch","URLSearchParams","then","res","json","getAssetTimeseries","PortfolioManagerContext","createContext","setPortfolio","usePortfolioManager","useContext","LCPortfolio","lcText","localStorage","getItem","this","JSON","parse","setItem","stringify","PortfolioManager","children","useState","getFromStorage","setPortfolioAssetDayPrice","uniqueAssets","setUniqueAssets","useEffect","put","getUniqueAssets","columns","interval","assetSeries","Provider","value","BarPortfolioStat","yesterday","totalInfo","Typography","component","variant","color","noWrap","mdTheme","Main","palette","mode","grey","flexGrow","overflow","display","flexDirection","MobileBackdrop","StyledContainer","Container","padding","Dashboard","useTheme","window","innerWidth","md","setOpen","toggleDrawer","currentPageName","link","ThemeProvider","Box","sx","CssBaseline","Toolbar","justifyContent","alignItems","IconButton","edge","marginRight","px","Divider","flex","maxWidth","PortfolioRoute","rest","Upload","styles","dropzone","onSubmit","files","R","meta","file","content","Papa","csvs","filter","p","remove","accept","multiple","Loader","CircularProgress","fontSize","background","borderRadius","textAlign","fontFamily","Table","TableRow","fontWeight","CircleContainer","Circle","stroke","fill","strokeWidth","marginBottom","CustomTooltip","active","payload","className","cx","cy","r","DOMAIN","COLOR_PALETTE","ChartByAsset","seriesKey","ResponsiveContainer","LineChart","margin","left","top","right","bottom","CartesianGrid","strokeDasharray","XAxis","dataKey","scale","type","tickFormatter","domain","YAxis","Tooltip","s","index","strokeColor","Line","Portfolio","chartSeries","useMemo","Assets","Grid","container","item","xs","mb","App","basename","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.89e72bd1.chunk.js","sourcesContent":["import { createTheme } from \"@mui/material\";\n\nexport const theme = createTheme({});\n","import { PageSlug } from \"types/app\";\n\nexport const PAGE_SLUG: Record<PageSlug, PageSlug> = {\n  assets: \"assets\",\n  portfolio: \"portfolio\",\n  upload: \"upload\",\n};\n","import { styled } from \"@mui/material/styles\";\nimport MuiAppBar, { AppBarProps as MuiAppBarProps } from \"@mui/material/AppBar\";\n\nexport type AppBarProps = MuiAppBarProps & {\n  open?: boolean;\n  drawerWidth: number;\n};\n\nexport const AppBar = styled(MuiAppBar, {\n  shouldForwardProp: (prop) => prop !== \"open\" && prop !== \"drawerWidth\",\n})<AppBarProps>(({ theme, open, drawerWidth }) => ({\n  zIndex: theme.zIndex.drawer + 1,\n  transition: theme.transitions.create([\"width\", \"margin\"], {\n    easing: theme.transitions.easing.sharp,\n    duration: theme.transitions.duration.leavingScreen,\n  }),\n  ...(open && {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  }),\n}));\n","import { styled } from \"@mui/material/styles\";\nimport MuiDrawer, { DrawerProps as MuiDrawerProps } from \"@mui/material/Drawer\";\n\nexport type DrawerProps = MuiDrawerProps & {\n  open?: boolean;\n  drawerWidth: number;\n};\n\nexport const Drawer = styled(MuiDrawer, {\n  shouldForwardProp: (prop) => prop !== \"open\" && prop !== \"drawerWidth\",\n})<DrawerProps>(({ theme, open, drawerWidth }) => ({\n  zIndex: theme.zIndex.drawer,\n\n  \"& .MuiDrawer-paper\": {\n    position: \"relative\",\n    whiteSpace: \"nowrap\",\n    width: drawerWidth,\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    [theme.breakpoints.down(\"sm\")]: {\n      position: \"absolute\",\n      height: \"100%\",\n      zIndex: theme.zIndex.appBar,\n    },\n    boxSizing: \"border-box\",\n    ...(!open && {\n      overflowX: \"hidden\",\n      transition: theme.transitions.create(\"width\", {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen,\n      }),\n      width: theme.spacing(7),\n      [theme.breakpoints.up(\"sm\")]: {\n        width: theme.spacing(9),\n      },\n    }),\n  },\n}));\n","import { styled } from \"@mui/material/styles\";\n\nexport const Backdrop = styled(\"div\")(({ theme }) => ({\n  zIndex: theme.zIndex.drawer - 1,\n  width: \"100vw\",\n  height: \"100vh\",\n  position: \"fixed\",\n  backgroundColor: \"black\",\n  animation: `fadeIn 500ms ease`,\n  opacity: 0.2,\n  \"@keyframes fadeIn\": {\n    from: {\n      opacity: 0,\n    },\n    to: {\n      opacity: 0.2,\n    },\n  },\n}));\n","import React, { useCallback } from \"react\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport List from \"@mui/material/List\";\nimport ListItemButton from \"@mui/material/ListItemButton\";\nimport ListItemIcon from \"@mui/material/ListItemIcon\";\nimport ListItemText from \"@mui/material/ListItemText\";\nimport BusinessCenterIcon from \"@mui/icons-material/BusinessCenter\";\nimport UploadFileRoundedIcon from \"@mui/icons-material/UploadFileRounded\";\nimport PieChartIcon from \"@mui/icons-material/PieChart\";\nimport { PAGE_SLUG } from \"constants/app\";\n\nexport const LINKS: Array<{\n  path: string;\n  text: string;\n  Icon: React.ReactNode;\n}> = [\n  {\n    path: `/${PAGE_SLUG.upload}`,\n    text: \"Upload\",\n    Icon: <UploadFileRoundedIcon />,\n  },\n  {\n    path: `/${PAGE_SLUG.portfolio}`,\n    text: \"Portfolio\",\n    Icon: <BusinessCenterIcon />,\n  },\n  {\n    path: `/${PAGE_SLUG.assets}`,\n    text: \"Assets\",\n    Icon: <PieChartIcon />,\n  },\n];\n\nexport const SideMenuListItems: React.FC = () => {\n  const history = useHistory();\n  const location = useLocation();\n\n  const onButtonClick = useCallback(\n    (path: string) => () => {\n      history.push(path);\n    },\n    [history]\n  );\n  const isLinkActive = (path: string) => location.pathname.includes(path);\n\n  return (\n    <List>\n      {LINKS.map(({ Icon, text, path }) => (\n        <ListItemButton\n          key={path}\n          onClick={onButtonClick(path)}\n          selected={isLinkActive(path)}\n        >\n          <ListItemIcon>{Icon}</ListItemIcon>\n          <ListItemText primary={text} />\n        </ListItemButton>\n      ))}\n    </List>\n  );\n};\n","import {\n  Series,\n  DailyAssetPrice,\n  PortfolioAssetDayPrice,\n  PortfolioAssetSymbol,\n  AssetRecordMeta,\n} from \"types\";\n\nexport const getChartByAsset = (\n  asset: PortfolioAssetSymbol,\n  portfolioAssetDayPrice: PortfolioAssetDayPrice,\n  key: keyof AssetRecordMeta = \"price\",\n  label: string = asset,\n  haveVolume = true\n): Series => {\n  const data = Object.keys(portfolioAssetDayPrice).map<DailyAssetPrice>(\n    (date) => {\n      const assetInfo = portfolioAssetDayPrice[date][asset];\n\n      return {\n        date: Number(date),\n        price: (assetInfo && assetInfo[key]) || 0,\n        volume: (haveVolume && assetInfo?.volume) || 0,\n      };\n    }\n  );\n\n  return {\n    label,\n    data,\n  };\n};\n\nexport const formatSeriesDate = (date: number | string | Date): string =>\n  new Date(date).toLocaleDateString(\"en\", {\n    year: \"numeric\",\n    month: \"short\",\n    day: \"numeric\",\n  });\n\nexport const formatSeriesNumber = (num: number): string =>\n  Number(num.toFixed()).toString();\n\nexport const formatSeriesFloat = (num: number): string =>\n  Number(num.toFixed(3)).toString();\n","export const resetDateToStart = (date: number): number =>\n  new Date(date).setUTCHours(0, 0, 0, 0);\n\nexport const findClosestAndLessDate = (\n  date: number,\n  dates: number[]\n): number => {\n  let result = 0;\n\n  for (const currentDate of dates) {\n    if (currentDate <= date && currentDate > result) {\n      result = currentDate;\n    }\n  }\n\n  return result;\n};\n\nexport const getTimestampsFromStart = (\n  startDate: number,\n  endDate: number\n): number[] => {\n  const start = resetDateToStart(startDate);\n  const now = resetDateToStart(endDate);\n  const oneDay = 86400000;\n  const result = [start];\n\n  while (result[result.length - 1] < now) {\n    result.push(result[result.length - 1] + oneDay);\n  }\n\n  return result;\n};\n\nexport const getDaysBefore = (date: number, number: number): number => {\n  const d = new Date(date);\n  return d.setDate(d.getDate() - number);\n};\n","import {\n  GroupedPortfolio,\n  GroupedPortfolioOperation,\n  PortfolioOperation,\n} from \"types/portfolio\";\nimport { Free2exAssetOperation } from \"types/free2ex\";\nimport { AssetSymbol } from \"types/asset\";\n\nimport { resetDateToStart } from \"../date\";\nimport { parseGroupedPortfolioOperations } from \"./common\";\n\nconst parseSymbolToGeneric = (asset: string): AssetSymbol =>\n  (asset === \"MAT\" ? \"MATIC\" : asset) as AssetSymbol;\n\nconst parsePairSymbol = (symbol: string): [AssetSymbol, AssetSymbol] =>\n  symbol\n    .split(\"/\")\n    .map((asset) => asset.trim())\n    .map(parseSymbolToGeneric) as [AssetSymbol, AssetSymbol];\n\nexport const appendAssetOperations = (\n  operations: PortfolioOperation[],\n  free2exOperation: Free2exAssetOperation\n): PortfolioOperation[] => {\n  if (free2exOperation[2] === \"BUY Market\") {\n    const [asset1, asset2] = parsePairSymbol(free2exOperation[5]);\n\n    operations.push({\n      symbol: asset1,\n      volume: parseFloat(free2exOperation[19]),\n      investment: asset2 === \"USD\" ? parseFloat(free2exOperation[20]) * -1 : 0,\n    });\n    operations.push({\n      symbol: asset2,\n      volume: parseFloat(free2exOperation[20]),\n      investment: 0,\n    });\n  }\n\n  if (free2exOperation[2] === \"SELL Market\") {\n    const [asset1, asset2] = parsePairSymbol(free2exOperation[5]);\n\n    operations.push({\n      symbol: asset1,\n      volume: parseFloat(free2exOperation[19]),\n      investment: asset2 === \"USD\" ? parseFloat(free2exOperation[20]) : 0,\n    });\n    operations.push({\n      symbol: asset2,\n      volume: parseFloat(free2exOperation[20]),\n      investment: 0,\n    });\n  }\n\n  if ([\"Deposit\", \"Withdrawal\"].includes(free2exOperation[2])) {\n    operations.push({\n      symbol: parseSymbolToGeneric(free2exOperation[5]),\n      volume: parseFloat(free2exOperation[19]),\n      investment: parseFloat(free2exOperation[19]),\n    });\n  }\n\n  return operations;\n};\n\nexport const parseFree2exPortfolio = (\n  rawOperations: Free2exAssetOperation[]\n): GroupedPortfolio =>\n  parseGroupedPortfolioOperations(\n    rawOperations.reduce<GroupedPortfolioOperation>((acc, free2exOperation) => {\n      const operationDate = resetDateToStart(+new Date(free2exOperation[1]));\n      const operations: PortfolioOperation[] = acc[operationDate] || [];\n      const updatedOperations = appendAssetOperations(\n        operations.slice(),\n        free2exOperation\n      );\n\n      return { ...acc, [operationDate]: updatedOperations };\n    }, {})\n  );\n","import {\n  AssetRecord,\n  GroupedPortfolio,\n  GroupedPortfolioOperation,\n} from \"types/portfolio\";\n\nexport const parseGroupedPortfolioOperations = (\n  operations: GroupedPortfolioOperation\n): GroupedPortfolio => {\n  const dates = Object.keys(operations).sort((a, b) => Number(a) - Number(b));\n  const groupedPortfolio: GroupedPortfolio = {};\n  let lastAssetRecord: AssetRecord;\n\n  for (let i = 0; i < dates.length; i++) {\n    lastAssetRecord = { ...(groupedPortfolio[dates[i - 1]] || {}) };\n\n    groupedPortfolio[dates[i]] = operations[dates[i]].reduce<AssetRecord>(\n      (acc, assetOperation) => {\n        const prevAssetInfo = acc[assetOperation.symbol];\n        if (prevAssetInfo) {\n          // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n          acc[assetOperation.symbol]! = {\n            ...prevAssetInfo,\n            investment: prevAssetInfo.investment + assetOperation.investment,\n            volume: prevAssetInfo.volume + assetOperation.volume,\n          };\n        } else {\n          acc[assetOperation.symbol] = {\n            volume: assetOperation.volume,\n            investment: assetOperation.investment,\n          };\n        }\n\n        return acc;\n      },\n      lastAssetRecord\n    );\n  }\n\n  return groupedPortfolio;\n};\n","import { Free2exAssetOperation, Free2exCSV } from \"types/free2ex\";\n\nexport const isFree2exAssetOperation = (\n  data: unknown\n): data is Free2exAssetOperation => (data as Free2exAssetOperation).length > 22;\n\nexport const isFree2exCSV = (csv: Array<unknown>): csv is Free2exCSV =>\n  !!csv.find((record) =>\n    Boolean(\n      Array.isArray(record) &&\n        record.length === 2 &&\n        record[0] === \"Broker:\" &&\n        record[1] === \"Free2ex (free2ex.com)\"\n    )\n  );\n","import { AssetSymbol } from \"types/asset\";\nimport { AssetTimeseriesResponse, GroupedSeries } from \"types/messari\";\n\ntype GroupByDateWithPrice = Record<\n  string,\n  { price: number; symbol: AssetSymbol }\n>;\n\nexport const groupTimeseries = (\n  timeSeries: AssetTimeseriesResponse[]\n): GroupedSeries =>\n  timeSeries\n    .map((series) =>\n      series.data.values.reduce<GroupByDateWithPrice>(\n        (acc, [date, price]) => ({\n          ...acc,\n          [date]: { price, symbol: series.data.symbol },\n        }),\n        {}\n      )\n    )\n    .reduce<GroupedSeries>((acc, groupedWithPrice) => {\n      const dates = Object.keys(groupedWithPrice);\n\n      return dates.reduce<GroupedSeries>(\n        (innerAcc, date) => ({\n          ...innerAcc,\n          [date]: {\n            ...innerAcc[date],\n            [groupedWithPrice[date].symbol]: groupedWithPrice[date].price,\n          },\n        }),\n        acc\n      );\n    }, {});\n","import {\n  GroupedSeries,\n  AssetSymbol,\n  GroupedPortfolio,\n  PortfolioAssetDayPrice,\n  AssetRecordWithTotal,\n  PortfolioAssetSymbol,\n} from \"types\";\nimport { findClosestAndLessDate } from \"utils/date\";\n\nexport const getUniqueAssets = (portfolio: GroupedPortfolio): AssetSymbol[] =>\n  Object.keys(portfolio).reduce<AssetSymbol[]>((acc, date) => {\n    if (acc.length < Object.keys(portfolio[date]).length) {\n      return Object.keys(portfolio[date]) as AssetSymbol[];\n    }\n\n    return acc;\n  }, []);\n\nexport const combinePortfolioAndSeries = (\n  portfolio: GroupedPortfolio,\n  series: GroupedSeries\n): PortfolioAssetDayPrice => {\n  const portfolioDates = Object.keys(portfolio).map(Number);\n\n  return Object.keys(series).reduce<PortfolioAssetDayPrice>((acc, date) => {\n    const portfolioDate = findClosestAndLessDate(Number(date), portfolioDates);\n    const portfolioDateVolume = portfolio[portfolioDate] || {};\n    const seriesDateVolume = series[date] || {};\n\n    const portfolioBySeries = (\n      Object.keys(seriesDateVolume) as AssetSymbol[]\n    ).reduce<AssetRecordWithTotal>(\n      (innerAcc, symbol) => {\n        const assetPriceByDate = seriesDateVolume[symbol] || 0;\n        const portfolioAssetInfo = portfolioDateVolume[symbol] || {\n          volume: 0,\n          investment: 0,\n        };\n        const assetPrice = portfolioAssetInfo.volume * assetPriceByDate;\n        const usdInvestments = portfolioDateVolume.USD?.investment || 0;\n        const totalPrice = innerAcc.TOTAL.price + assetPrice;\n\n        return {\n          ...innerAcc,\n          [symbol]: {\n            volume: portfolioAssetInfo.volume,\n            price: assetPrice,\n            investment: portfolioAssetInfo.investment,\n          },\n          TOTAL: {\n            volume: 0,\n            price: totalPrice,\n            investment: usdInvestments,\n          },\n        };\n      },\n      { TOTAL: { volume: 0, price: 0, investment: 0 } }\n    );\n\n    return {\n      ...acc,\n      [date]: portfolioBySeries,\n    };\n  }, {});\n};\n\nexport const getDifferenceInPercents = (\n  portfolioAssetDayPrice: PortfolioAssetDayPrice,\n  date: number,\n  asset: PortfolioAssetSymbol\n): number => {\n  const info = portfolioAssetDayPrice[date][asset];\n\n  return info ? ((info.price - info.investment) / info.investment) * 100 : 0;\n};\n","import {\n  AssetTimeseriesQueryParams,\n  AssetTimeseriesResponse,\n  AssetSymbol,\n} from \"types\";\nimport { getDaysBefore, getTimestampsFromStart, resetDateToStart } from \"utils\";\n\nexport const getAssetTimeseries = (\n  asset: AssetSymbol,\n  queryParams: AssetTimeseriesQueryParams\n): Promise<AssetTimeseriesResponse> =>\n  fetch(\n    `https://data.messari.io/api/v1/assets/${asset}/metrics/price/time-series?${new URLSearchParams(\n      queryParams\n    ).toString()}`\n  ).then((res) => res.json());\n\nexport const getUSDTimeseries = (\n  start?: string\n): Promise<AssetTimeseriesResponse> =>\n  Promise.resolve<AssetTimeseriesResponse>({\n    status: { elapsed: 0, timestamp: \"0\" },\n    data: {\n      id: \"usd_id\",\n      name: \"USD\",\n      slug: \"usd\",\n      symbol: \"USD\",\n      values: getTimestampsFromStart(\n        Number(start),\n        getDaysBefore(resetDateToStart(new Date().getTime()), 1)\n      ).map((date) => [date, 1]),\n    },\n  });\n\nexport const getAssetsForPeriod = (\n  assets: AssetSymbol[],\n  queryParams: AssetTimeseriesQueryParams\n): Promise<AssetTimeseriesResponse[]> =>\n  Promise.all(\n    assets.map((asset) => {\n      if (asset === \"USD\") {\n        return getUSDTimeseries(queryParams.start);\n      }\n\n      return getAssetTimeseries(asset, queryParams);\n    })\n  );\n","import { createContext } from \"react\";\n\nimport { PortfolioManagerState } from \"./types\";\n\nexport const PortfolioManagerContext = createContext<PortfolioManagerState>({\n  setPortfolio: () => {},\n});\n","import { useContext } from \"react\";\n\nimport { PortfolioManagerContext } from \"./context\";\nimport { PortfolioManagerState } from \"./types\";\n\nexport const usePortfolioManager = (): PortfolioManagerState =>\n  useContext(PortfolioManagerContext);\n","import React, { useEffect, useState } from \"react\";\n\nimport { AssetSymbol, GroupedPortfolio, PortfolioAssetDayPrice } from \"types\";\nimport {\n  getUniqueAssets,\n  groupTimeseries,\n  combinePortfolioAndSeries,\n} from \"utils\";\nimport { getAssetsForPeriod } from \"services/messari\";\n\nimport { PortfolioManagerContext } from \"./context\";\n\nclass LCPortfolio {\n  static #PORTFOLIO_LC_KEY = \"PORTFOLIO_LC_KEY\";\n\n  static getFromStorage(): GroupedPortfolio | undefined {\n    const lcText = localStorage.getItem(this.#PORTFOLIO_LC_KEY);\n\n    if (!lcText) return undefined;\n\n    try {\n      return JSON.parse(lcText);\n    } catch {\n      return undefined;\n    }\n  }\n\n  static put(portfolio: GroupedPortfolio): void {\n    localStorage.setItem(this.#PORTFOLIO_LC_KEY, JSON.stringify(portfolio));\n  }\n}\n\nexport const PortfolioManager: React.FC = ({ children }) => {\n  const [portfolio, setPortfolio] = useState<GroupedPortfolio | undefined>(\n    LCPortfolio.getFromStorage()\n  );\n  const [portfolioAssetDayPrice, setPortfolioAssetDayPrice] =\n    useState<PortfolioAssetDayPrice>();\n  const [uniqueAssets, setUniqueAssets] = useState<AssetSymbol[]>();\n\n  useEffect(() => portfolio && LCPortfolio.put(portfolio), [portfolio]);\n\n  useEffect(() => {\n    if (portfolio) {\n      const assets = getUniqueAssets(portfolio);\n      const startDate = Object.keys(portfolio)[0];\n\n      setUniqueAssets(assets);\n\n      getAssetsForPeriod(assets, {\n        start: startDate,\n        columns: \"close\",\n        interval: \"1d\",\n      })\n        .then(groupTimeseries)\n        .then((assetSeries) =>\n          combinePortfolioAndSeries(portfolio, assetSeries)\n        )\n        .then(setPortfolioAssetDayPrice);\n    }\n  }, [portfolio]);\n\n  return (\n    <PortfolioManagerContext.Provider\n      value={{\n        portfolio,\n        portfolioAssetDayPrice,\n        uniqueAssets,\n        setPortfolio,\n      }}\n    >\n      {children}\n    </PortfolioManagerContext.Provider>\n  );\n};\n\nexport { usePortfolioManager } from \"./usePortfolio\";\n","import React from \"react\";\nimport Typography from \"@mui/material/Typography\";\n\nimport { usePortfolioManager } from \"services/PortfolioManager\";\nimport {\n  resetDateToStart,\n  getDaysBefore,\n  formatSeriesFloat,\n  getDifferenceInPercents,\n} from \"utils\";\n\nexport const BarPortfolioStat: React.FC = () => {\n  const { portfolioAssetDayPrice } = usePortfolioManager();\n  const yesterday = getDaysBefore(resetDateToStart(Date.now()), 1);\n\n  if (!portfolioAssetDayPrice) {\n    return null;\n  }\n\n  const totalInfo = portfolioAssetDayPrice[yesterday].TOTAL;\n\n  return (\n    <Typography component=\"h1\" variant=\"body1\" color=\"inherit\" noWrap>\n      {`${formatSeriesFloat(totalInfo.price)}$ & ${formatSeriesFloat(\n        getDifferenceInPercents(portfolioAssetDayPrice, yesterday, \"TOTAL\")\n      )}%`}\n      {}\n    </Typography>\n  );\n};\n","import React, { useState } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport { createTheme, ThemeProvider } from \"@mui/material/styles\";\nimport CssBaseline from \"@mui/material/CssBaseline\";\nimport Box from \"@mui/material/Box\";\nimport Toolbar from \"@mui/material/Toolbar\";\nimport Typography from \"@mui/material/Typography\";\nimport Divider from \"@mui/material/Divider\";\nimport IconButton from \"@mui/material/IconButton\";\nimport Container from \"@mui/material/Container\";\nimport MenuIcon from \"@mui/icons-material/Menu\";\nimport ChevronLeftIcon from \"@mui/icons-material/ChevronLeft\";\nimport { styled, useTheme } from \"@mui/material/styles\";\n\nimport { AppBar } from \"./AppBar\";\nimport { Drawer } from \"./Drawer\";\nimport { Backdrop } from \"./Backdrop\";\nimport { SideMenuListItems, LINKS } from \"./SideMenuListItems\";\nimport { BarPortfolioStat } from \"./BarPortfolioStat\";\n\nconst drawerWidth = 240;\n\nconst mdTheme = createTheme();\n\nconst Main = styled(\"main\")(({ theme }) => ({\n  backgroundColor:\n    theme.palette.mode === \"light\"\n      ? theme.palette.grey[100]\n      : theme.palette.grey[900],\n  flexGrow: 1,\n  height: \"100vh\",\n  overflow: \"auto\",\n  display: \"flex\",\n  flexDirection: \"column\",\n  [theme.breakpoints.down(\"sm\")]: {\n    marginLeft: theme.spacing(7),\n    width: `calc(100% - ${theme.spacing(7)}px)`,\n  },\n}));\n\nconst MobileBackdrop = styled(Backdrop)(({ theme }) => ({\n  [theme.breakpoints.up(\"sm\")]: {\n    display: \"none\",\n  },\n}));\n\nconst StyledContainer = styled(Container)(() => ({\n  flexGrow: 1,\n  padding: \"0 !important\",\n}));\n\nexport const Dashboard: React.FC<{ children: React.ReactNode }> = ({\n  children,\n}) => {\n  const location = useLocation();\n  const theme = useTheme();\n  const [open, setOpen] = useState(\n    window.innerWidth > theme.breakpoints.values.md\n  );\n  const toggleDrawer = () => {\n    setOpen(!open);\n  };\n  const currentPageName = LINKS.find((link) =>\n    location.pathname.includes(link.path)\n  )?.text;\n\n  return (\n    <ThemeProvider theme={mdTheme}>\n      <Box sx={{ display: \"flex\" }}>\n        <CssBaseline />\n        <AppBar position=\"absolute\" open={open} drawerWidth={drawerWidth}>\n          <Toolbar variant=\"dense\" sx={{ justifyContent: \"space-between\" }}>\n            <Box display=\"flex\" alignItems=\"center\">\n              <IconButton\n                edge=\"start\"\n                color=\"inherit\"\n                aria-label=\"open drawer\"\n                onClick={toggleDrawer}\n                sx={{\n                  marginRight: \"24px\",\n                  ...(open && { display: \"none\" }),\n                }}\n              >\n                <MenuIcon />\n              </IconButton>\n              <Typography component=\"h1\" variant=\"h6\" color=\"inherit\" noWrap>\n                {currentPageName}\n              </Typography>\n            </Box>\n            <BarPortfolioStat />\n          </Toolbar>\n        </AppBar>\n        <Drawer variant=\"permanent\" open={open} drawerWidth={drawerWidth}>\n          <Toolbar\n            variant=\"dense\"\n            sx={{\n              display: \"flex\",\n              alignItems: \"center\",\n              justifyContent: \"flex-end\",\n              px: [1],\n            }}\n          >\n            <IconButton onClick={toggleDrawer}>\n              <ChevronLeftIcon />\n            </IconButton>\n          </Toolbar>\n          <Divider />\n          <SideMenuListItems />\n        </Drawer>\n        {open && <MobileBackdrop onClick={toggleDrawer} />}\n        <Main>\n          <Toolbar sx={{ flex: \"0 1 auto\" }} />\n          <StyledContainer maxWidth=\"lg\">{children}</StyledContainer>\n        </Main>\n      </Box>\n    </ThemeProvider>\n  );\n};\n","import React from \"react\";\nimport { Route, Redirect, RouteProps } from \"react-router-dom\";\n\nimport { usePortfolioManager } from \"services/PortfolioManager\";\nimport { PAGE_SLUG } from \"constants/app\";\n\nexport const PortfolioRoute: React.FC<RouteProps> = ({ children, ...rest }) => {\n  const { portfolio } = usePortfolioManager();\n\n  if (!portfolio) {\n    return <Redirect to={`/${PAGE_SLUG.upload}`} />;\n  }\n\n  return <Route {...rest}>{children}</Route>;\n};\n","import React from \"react\";\nimport Papa from \"papaparse\";\nimport Dropzone, { IDropzoneProps } from \"react-dropzone-uploader\";\nimport { useHistory } from \"react-router-dom\";\nimport * as R from \"ramda\";\n\nimport { parseFree2exPortfolio } from \"utils/csv\";\nimport { usePortfolioManager } from \"services/PortfolioManager\";\nimport { isFree2exAssetOperation, isFree2exCSV } from \"utils\";\n\nimport \"react-dropzone-uploader/dist/styles.css\";\nimport { Free2exAssetOperation, Free2exCSV } from \"types\";\n\nexport const Upload: React.FC = () => {\n  const { setPortfolio } = usePortfolioManager();\n  const history = useHistory();\n\n  const handleSubmit: IDropzoneProps[\"onSubmit\"] = (files) => {\n    if (files.length) {\n      Promise.all(R.map((meta) => meta.file.text(), files))\n        .then(R.map((content) => Papa.parse(content).data))\n        .then((csvs) => R.filter(isFree2exCSV, csvs))\n        .then(\n          R.reduce<Free2exCSV, Free2exAssetOperation[]>(\n            (acc, csv) => [...acc, ...csv.filter(isFree2exAssetOperation)],\n            []\n          )\n        )\n        .then(parseFree2exPortfolio)\n        .then((p) => {\n          if (p) {\n            setPortfolio(p);\n            history.push(\"/\");\n          } else {\n            R.forEach((file) => file.remove(), files);\n          }\n        });\n    }\n  };\n\n  return (\n    <Dropzone\n      styles={{ dropzone: { overflow: \"hidden\", height: \"100%\" } }}\n      onSubmit={handleSubmit}\n      accept=\".csv\"\n      multiple={true}\n    />\n  );\n};\n","import React from \"react\";\nimport CircularProgress from \"@mui/material/CircularProgress\";\nimport Box from \"@mui/material/Box\";\n\nexport const Loader: React.FC = () => (\n  <Box\n    sx={{\n      display: \"flex\",\n      height: \"100%\",\n      width: \"100%\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n    }}\n  >\n    <CircularProgress />\n  </Box>\n);\n","import React from \"react\";\nimport { styled } from \"@mui/material/styles\";\n\nimport { DailyAssetPrice } from \"types\";\nimport {\n  formatSeriesDate,\n  formatSeriesNumber,\n  formatSeriesFloat,\n} from \"utils/chart\";\n\nconst Container = styled(\"div\")(() => ({\n  fontSize: \"10px\",\n  padding: \"4px\",\n  background: \"rgba(0, 26, 39, 0.9)\",\n  color: \"white\",\n  borderRadius: \"4px\",\n  textAlign: \"center\",\n  fontFamily: \"sans-serif\",\n}));\nconst Table = styled(\"table\")(() => ({\n  whiteSpace: \"nowrap\",\n}));\nconst TableRow = styled(\"tr\")(() => ({\n  fontWeight: \"bold\",\n}));\nconst CircleContainer = styled(\"td\")(() => ({\n  display: \"flex\",\n  alignItems: \"center\",\n  justifyContent: \"center\",\n}));\nconst Circle = styled(\"circle\")(({ color }) => ({\n  stroke: \"white\",\n  fill: color,\n  strokeWidth: 2,\n}));\nconst Date = styled(\"strong\")(() => ({\n  marginBottom: \"3px\",\n  display: \"inline-block\",\n}));\n\nexport type CustomTooltipProps = {\n  active?: boolean;\n  payload?: { payload: DailyAssetPrice; name: string; color: string }[];\n  color?: string;\n};\n\nexport const CustomTooltip: React.FC<CustomTooltipProps> = ({\n  active,\n  payload,\n}) => {\n  if (active && payload?.length) {\n    return (\n      <Container className=\"area-chart-tooltip\">\n        <Date>{formatSeriesDate(payload[0].payload.date)}</Date>\n        <Table>\n          <thead>\n            <tr>\n              <th />\n              <th>Symbol</th>\n              <th>Price</th>\n              <th>Volume</th>\n            </tr>\n          </thead>\n          <tbody>\n            {payload.map(({ payload: data, name, color }) => (\n              <TableRow>\n                <CircleContainer>\n                  <svg width=\"14\" height=\"14\">\n                    <Circle cx=\"7\" cy=\"7\" r=\"5\" color={color} />\n                  </svg>\n                </CircleContainer>\n                <td>{name}</td>\n                <td>{formatSeriesNumber(data.price)}</td>\n                <td>{data.volume ? formatSeriesFloat(data.volume) : \"---\"}</td>\n              </TableRow>\n            ))}\n          </tbody>\n        </Table>\n      </Container>\n    );\n  }\n\n  return <div />;\n};\n","import {\n  Line,\n  XAxis,\n  YAxis,\n  Tooltip,\n  ResponsiveContainer,\n  LineChart,\n  CartesianGrid,\n} from \"recharts\";\n\nimport {\n  formatSeriesDate,\n  formatSeriesNumber,\n  formatSeriesFloat,\n} from \"utils/chart\";\nimport { DailyAssetPrice, Series } from \"types\";\n\nimport { CustomTooltip } from \"./recharts/CustomTooltip\";\n\nconst DOMAIN = [\"auto\", \"auto\"];\nconst COLOR_PALETTE = [\"#1976d2\", \"#F99B1C\"];\n\nexport type ChartByAssetProps = {\n  series: Series[];\n  seriesKey?: Exclude<keyof DailyAssetPrice, \"date\">;\n};\n\nexport const ChartByAsset: React.FC<ChartByAssetProps> = ({\n  series,\n  seriesKey = \"price\",\n}) => (\n  <ResponsiveContainer>\n    <LineChart margin={{ left: 0, top: 0, right: 20, bottom: 0 }}>\n      <CartesianGrid stroke=\"#ccc\" strokeDasharray=\"5 5\" />\n      <XAxis\n        dataKey=\"date\"\n        scale=\"time\"\n        type=\"number\"\n        tickFormatter={formatSeriesDate}\n        domain={DOMAIN}\n      />\n      <YAxis\n        dataKey={seriesKey}\n        type=\"number\"\n        tickFormatter={\n          seriesKey === \"price\" ? formatSeriesNumber : formatSeriesFloat\n        }\n        domain={DOMAIN}\n      />\n      <Tooltip content={<CustomTooltip />} />\n      {series.map((s, index) => {\n        const strokeColor = COLOR_PALETTE[index] || COLOR_PALETTE[0];\n\n        return (\n          <Line\n            type=\"monotone\"\n            dataKey={seriesKey}\n            data={s.data}\n            name={s.label}\n            key={s.label}\n            stroke={strokeColor}\n          />\n        );\n      })}\n    </LineChart>\n  </ResponsiveContainer>\n);\n","import React, { useMemo } from \"react\";\n\nimport { usePortfolioManager } from \"services/PortfolioManager\";\nimport { Loader } from \"components/Loader\";\nimport { ChartByAsset } from \"components/ChartByAsset\";\nimport { Series } from \"types\";\nimport { getChartByAsset } from \"utils\";\n\nexport const Portfolio: React.FC = () => {\n  const { portfolioAssetDayPrice } = usePortfolioManager();\n\n  const chartSeries = useMemo<Series[] | undefined>(\n    () =>\n      portfolioAssetDayPrice && [\n        getChartByAsset(\"TOTAL\", portfolioAssetDayPrice, \"price\"),\n        getChartByAsset(\n          \"TOTAL\",\n          portfolioAssetDayPrice,\n          \"investment\",\n          \"Fund\",\n          false\n        ),\n      ],\n    [portfolioAssetDayPrice]\n  );\n\n  if (!chartSeries) {\n    return <Loader />;\n  }\n\n  return <ChartByAsset series={chartSeries} />;\n};\n","import React from \"react\";\nimport { Grid, Typography } from \"@mui/material\";\n\nimport { usePortfolioManager } from \"services/PortfolioManager\";\nimport { Loader } from \"components/Loader\";\nimport { ChartByAsset } from \"components/ChartByAsset\";\nimport {\n  getChartByAsset,\n  formatSeriesFloat,\n  getDaysBefore,\n  resetDateToStart,\n  getDifferenceInPercents,\n} from \"utils\";\n\nexport const Assets: React.FC = () => {\n  const { portfolioAssetDayPrice, uniqueAssets } = usePortfolioManager();\n  const yesterday = getDaysBefore(resetDateToStart(Date.now()), 1);\n\n  if (!portfolioAssetDayPrice || !uniqueAssets) {\n    return <Loader />;\n  }\n\n  return (\n    <Grid container height=\"100%\">\n      {uniqueAssets.map((asset) => (\n        <Grid key={asset} item md={6} xs={12} mb={5} height={300}>\n          <Typography component=\"span\" variant=\"h5\">\n            {asset}\n          </Typography>{\" \"}\n          <Typography component=\"span\" variant=\"h6\">\n            {formatSeriesFloat(\n              getDifferenceInPercents(portfolioAssetDayPrice, yesterday, asset)\n            ) + \"%\"}\n          </Typography>\n          <ChartByAsset\n            series={[\n              getChartByAsset(asset, portfolioAssetDayPrice, \"price\"),\n              getChartByAsset(\n                asset,\n                portfolioAssetDayPrice,\n                \"investment\",\n                \"Fund\",\n                false\n              ),\n            ]}\n          />\n        </Grid>\n      ))}\n    </Grid>\n  );\n};\n","import React from \"react\";\nimport { ThemeProvider } from \"@mui/material\";\nimport { Switch, Route, BrowserRouter, Redirect } from \"react-router-dom\";\n\nimport { theme } from \"constants/theme\";\nimport { PAGE_SLUG } from \"constants/app\";\nimport { Dashboard } from \"components/Dashboard\";\nimport { PortfolioRoute } from \"components/PortfolioRoute\";\nimport { PortfolioManager } from \"services/PortfolioManager\";\nimport { Upload, Portfolio, Assets } from \"pages\";\n\nexport const App: React.FC = () => (\n  <BrowserRouter basename=\"/portapp\">\n    <ThemeProvider theme={theme}>\n      <PortfolioManager>\n        <Dashboard>\n          <Switch>\n            <Route exact path={`/${PAGE_SLUG.upload}`}>\n              <Upload />\n            </Route>\n            <PortfolioRoute exact path={`/${PAGE_SLUG.portfolio}`}>\n              <Portfolio />\n            </PortfolioRoute>\n            <PortfolioRoute exact path={`/${PAGE_SLUG.assets}`}>\n              <Assets />\n            </PortfolioRoute>\n            <Redirect to={`/${PAGE_SLUG.portfolio}`} />\n          </Switch>\n        </Dashboard>\n      </PortfolioManager>\n    </ThemeProvider>\n  </BrowserRouter>\n);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport CssBaseline from \"@mui/material/CssBaseline\";\n\nimport { App } from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <CssBaseline />\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}