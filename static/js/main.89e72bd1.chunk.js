(this.webpackJsonpportapp=this.webpackJsonpportapp||[]).push([[0],{403:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(46),i=n.n(c),o=n(454),s=n(453),u=n(81),j=n(30),l=n(239),b=Object(l.a)({}),d="assets",O="portfolio",h="upload",p=n(26),m=n(15),f=n(11),x=n(463),v=n(464),g=n(461),y=n(466),w=n(465),k=n(462),S=n(219),D=n.n(S),I=n(220),F=n.n(I),T=n(14),A=n(71),P=n(455),C=Object(T.a)(P.a,{shouldForwardProp:function(e){return"open"!==e&&"drawerWidth"!==e}})((function(e){var t=e.theme,n=e.open,r=e.drawerWidth;return Object(p.a)({zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},n&&{marginLeft:r,width:"calc(100% - ".concat(r,"px)"),transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})})})),L=n(448),W=Object(T.a)(L.a,{shouldForwardProp:function(e){return"open"!==e&&"drawerWidth"!==e}})((function(e){var t,n=e.theme,r=e.open,a=e.drawerWidth;return{zIndex:n.zIndex.drawer,"& .MuiDrawer-paper":Object(p.a)((t={position:"relative",whiteSpace:"nowrap",width:a,transition:n.transitions.create("width",{easing:n.transitions.easing.sharp,duration:n.transitions.duration.enteringScreen})},Object(f.a)(t,n.breakpoints.down("sm"),{position:"absolute",height:"100%",zIndex:n.zIndex.appBar}),Object(f.a)(t,"boxSizing","border-box"),t),!r&&Object(f.a)({overflowX:"hidden",transition:n.transitions.create("width",{easing:n.transitions.easing.sharp,duration:n.transitions.duration.leavingScreen}),width:n.spacing(7)},n.breakpoints.up("sm"),{width:n.spacing(9)}))}})),z=Object(T.a)("div")((function(e){return{zIndex:e.theme.zIndex.drawer-1,width:"100vw",height:"100vh",position:"fixed",backgroundColor:"black",animation:"fadeIn 500ms ease",opacity:.2,"@keyframes fadeIn":{from:{opacity:0},to:{opacity:.2}}}})),N=n(457),U=n(458),B=n(459),M=n(460),E=n(215),K=n.n(E),R=n(214),_=n.n(R),J=n(216),Y=n.n(J),q=n(1),G=[{path:"/".concat(h),text:"Upload",Icon:Object(q.jsx)(_.a,{})},{path:"/".concat(O),text:"Portfolio",Icon:Object(q.jsx)(K.a,{})},{path:"/".concat(d),text:"Assets",Icon:Object(q.jsx)(Y.a,{})}],H=function(){var e=Object(j.g)(),t=Object(j.h)(),n=Object(r.useCallback)((function(t){return function(){e.push(t)}}),[e]),a=function(e){return t.pathname.includes(e)};return Object(q.jsx)(N.a,{children:G.map((function(e){var t=e.Icon,r=e.text,c=e.path;return Object(q.jsxs)(U.a,{onClick:n(c),selected:a(c),children:[Object(q.jsx)(B.a,{children:t}),Object(q.jsx)(M.a,{primary:r})]},c)}))})},V=n(125),X=n(126),$=n(160),Q=n(218),Z=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"price",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],c=Object.keys(t).map((function(r){var c=t[r][e];return{date:Number(r),price:c&&c[n]||0,volume:a&&(null===c||void 0===c?void 0:c.volume)||0}}));return{label:r,data:c}},ee=function(e){return new Date(e).toLocaleDateString("en",{year:"numeric",month:"short",day:"numeric"})},te=function(e){return Number(e.toFixed()).toString()},ne=function(e){return Number(e.toFixed(3)).toString()},re=n(31),ae=function(e){return new Date(e).setUTCHours(0,0,0,0)},ce=function(e,t){for(var n=ae(e),r=ae(t),a=[n];a[a.length-1]<r;)a.push(a[a.length-1]+864e5);return a},ie=function(e,t){var n=new Date(e);return n.setDate(n.getDate()-t)},oe=function(e){return"MAT"===e?"MATIC":e},se=function(e){return e.split("/").map((function(e){return e.trim()})).map(oe)},ue=function(e){return function(e){for(var t,n=Object.keys(e).sort((function(e,t){return Number(e)-Number(t)})),r={},a=0;a<n.length;a++)t=Object(p.a)({},r[n[a-1]]||{}),r[n[a]]=e[n[a]].reduce((function(e,t){var n=e[t.symbol];return e[t.symbol]=n?Object(p.a)(Object(p.a)({},n),{},{investment:n.investment+t.investment,volume:n.volume+t.volume}):{volume:t.volume,investment:t.investment},e}),t);return r}(e.reduce((function(e,t){var n=ae(+new Date(t[1])),r=function(e,t){if("BUY Market"===t[2]){var n=se(t[5]),r=Object(m.a)(n,2),a=r[0],c=r[1];e.push({symbol:a,volume:parseFloat(t[19]),investment:"USD"===c?-1*parseFloat(t[20]):0}),e.push({symbol:c,volume:parseFloat(t[20]),investment:0})}if("SELL Market"===t[2]){var i=se(t[5]),o=Object(m.a)(i,2),s=o[0],u=o[1];e.push({symbol:s,volume:parseFloat(t[19]),investment:"USD"===u?parseFloat(t[20]):0}),e.push({symbol:u,volume:parseFloat(t[20]),investment:0})}return["Deposit","Withdrawal"].includes(t[2])&&e.push({symbol:oe(t[5]),volume:parseFloat(t[19]),investment:parseFloat(t[19])}),e}((e[n]||[]).slice(),t);return Object(p.a)(Object(p.a)({},e),{},Object(f.a)({},n,r))}),{}))},je=function(e){return e.length>22},le=function(e){return!!e.find((function(e){return Boolean(Array.isArray(e)&&2===e.length&&"Broker:"===e[0]&&"Free2ex (free2ex.com)"===e[1])}))},be=function(e){return e.map((function(e){return e.data.values.reduce((function(t,n){var r=Object(m.a)(n,2),a=r[0],c=r[1];return Object(p.a)(Object(p.a)({},t),{},Object(f.a)({},a,{price:c,symbol:e.data.symbol}))}),{})})).reduce((function(e,t){return Object.keys(t).reduce((function(e,n){return Object(p.a)(Object(p.a)({},e),{},Object(f.a)({},n,Object(p.a)(Object(p.a)({},e[n]),{},Object(f.a)({},t[n].symbol,t[n].price))))}),e)}),{})},de=function(e,t){var n=Object.keys(e).map(Number);return Object.keys(t).reduce((function(r,a){var c=function(e,t){var n,r=0,a=Object(re.a)(t);try{for(a.s();!(n=a.n()).done;){var c=n.value;c<=e&&c>r&&(r=c)}}catch(i){a.e(i)}finally{a.f()}return r}(Number(a),n),i=e[c]||{},o=t[a]||{},s=Object.keys(o).reduce((function(e,t){var n,r,a=o[t]||0,c=i[t]||{volume:0,investment:0},s=c.volume*a,u=(null===(n=i.USD)||void 0===n?void 0:n.investment)||0,j=e.TOTAL.price+s;return Object(p.a)(Object(p.a)({},e),{},(r={},Object(f.a)(r,t,{volume:c.volume,price:s,investment:c.investment}),Object(f.a)(r,"TOTAL",{volume:0,price:j,investment:u}),r))}),{TOTAL:{volume:0,price:0,investment:0}});return Object(p.a)(Object(p.a)({},r),{},Object(f.a)({},a,s))}),{})},Oe=function(e,t,n){var r=e[t][n];return r?(r.price-r.investment)/r.investment*100:0},he=function(e,t){return Promise.all(e.map((function(e){return"USD"===e?(n=t.start,Promise.resolve({status:{elapsed:0,timestamp:"0"},data:{id:"usd_id",name:"USD",slug:"usd",symbol:"USD",values:ce(Number(n),ie(ae((new Date).getTime()),1)).map((function(e){return[e,1]}))}})):function(e,t){return fetch("https://data.messari.io/api/v1/assets/".concat(e,"/metrics/price/time-series?").concat(new URLSearchParams(t).toString())).then((function(e){return e.json()}))}(e,t);var n})))},pe=Object(r.createContext)({setPortfolio:function(){}}),me=function(){return Object(r.useContext)(pe)},fe=Object(Q.a)("PORTFOLIO_LC_KEY"),xe=function(){function e(){Object(V.a)(this,e)}return Object(X.a)(e,null,[{key:"getFromStorage",value:function(){var e=localStorage.getItem(Object($.a)(this,fe)[fe]);if(e)try{return JSON.parse(e)}catch(t){return}}},{key:"put",value:function(e){localStorage.setItem(Object($.a)(this,fe)[fe],JSON.stringify(e))}}]),e}();Object.defineProperty(xe,fe,{writable:!0,value:"PORTFOLIO_LC_KEY"});var ve=function(e){var t=e.children,n=Object(r.useState)(xe.getFromStorage()),a=Object(m.a)(n,2),c=a[0],i=a[1],o=Object(r.useState)(),s=Object(m.a)(o,2),u=s[0],j=s[1],l=Object(r.useState)(),b=Object(m.a)(l,2),d=b[0],O=b[1];return Object(r.useEffect)((function(){return c&&xe.put(c)}),[c]),Object(r.useEffect)((function(){if(c){var e=function(e){return Object.keys(e).reduce((function(t,n){return t.length<Object.keys(e[n]).length?Object.keys(e[n]):t}),[])}(c),t=Object.keys(c)[0];O(e),he(e,{start:t,columns:"close",interval:"1d"}).then(be).then((function(e){return de(c,e)})).then(j)}}),[c]),Object(q.jsx)(pe.Provider,{value:{portfolio:c,portfolioAssetDayPrice:u,uniqueAssets:d,setPortfolio:i},children:t})},ge=function(){var e=me().portfolioAssetDayPrice,t=ie(ae(Date.now()),1);if(!e)return null;var n=e[t].TOTAL;return Object(q.jsx)(g.a,{component:"h1",variant:"body1",color:"inherit",noWrap:!0,children:"".concat(ne(n.price),"$ & ").concat(ne(Oe(e,t,"TOTAL")),"%")})},ye=Object(l.a)(),we=Object(T.a)("main")((function(e){var t=e.theme;return Object(f.a)({backgroundColor:"light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[900],flexGrow:1,height:"100vh",overflow:"auto",display:"flex",flexDirection:"column"},t.breakpoints.down("sm"),{marginLeft:t.spacing(7),width:"calc(100% - ".concat(t.spacing(7),"px)")})})),ke=Object(T.a)(z)((function(e){var t=e.theme;return Object(f.a)({},t.breakpoints.up("sm"),{display:"none"})})),Se=Object(T.a)(k.a)((function(){return{flexGrow:1,padding:"0 !important"}})),De=function(e){var t,n=e.children,a=Object(j.h)(),c=Object(A.a)(),i=Object(r.useState)(window.innerWidth>c.breakpoints.values.md),u=Object(m.a)(i,2),l=u[0],b=u[1],d=function(){b(!l)},O=null===(t=G.find((function(e){return a.pathname.includes(e.path)})))||void 0===t?void 0:t.text;return Object(q.jsx)(s.a,{theme:ye,children:Object(q.jsxs)(x.a,{sx:{display:"flex"},children:[Object(q.jsx)(o.a,{}),Object(q.jsx)(C,{position:"absolute",open:l,drawerWidth:240,children:Object(q.jsxs)(v.a,{variant:"dense",sx:{justifyContent:"space-between"},children:[Object(q.jsxs)(x.a,{display:"flex",alignItems:"center",children:[Object(q.jsx)(w.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:d,sx:Object(p.a)({marginRight:"24px"},l&&{display:"none"}),children:Object(q.jsx)(D.a,{})}),Object(q.jsx)(g.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,children:O})]}),Object(q.jsx)(ge,{})]})}),Object(q.jsxs)(W,{variant:"permanent",open:l,drawerWidth:240,children:[Object(q.jsx)(v.a,{variant:"dense",sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",px:[1]},children:Object(q.jsx)(w.a,{onClick:d,children:Object(q.jsx)(F.a,{})})}),Object(q.jsx)(y.a,{}),Object(q.jsx)(H,{})]}),l&&Object(q.jsx)(ke,{onClick:d}),Object(q.jsxs)(we,{children:[Object(q.jsx)(v.a,{sx:{flex:"0 1 auto"}}),Object(q.jsx)(Se,{maxWidth:"lg",children:n})]})]})})},Ie=n(242),Fe=["children"],Te=function(e){var t=e.children,n=Object(Ie.a)(e,Fe);return me().portfolio?Object(q.jsx)(j.b,Object(p.a)(Object(p.a)({},n),{},{children:t})):Object(q.jsx)(j.a,{to:"/".concat(h)})},Ae=n(27),Pe=n(221),Ce=n.n(Pe),Le=n(222),We=n.n(Le),ze=n(93),Ne=(n(268),function(){var e=me().setPortfolio,t=Object(j.g)();return Object(q.jsx)(We.a,{styles:{dropzone:{overflow:"hidden",height:"100%"}},onSubmit:function(n){n.length&&Promise.all(ze.c((function(e){return e.file.text()}),n)).then(ze.c((function(e){return Ce.a.parse(e).data}))).then((function(e){return ze.a(le,e)})).then(ze.d((function(e,t){return[].concat(Object(Ae.a)(e),Object(Ae.a)(t.filter(je)))}),[])).then(ue).then((function(r){r?(e(r),t.push("/")):ze.b((function(e){return e.remove()}),n)}))},accept:".csv",multiple:!0})}),Ue=n(467),Be=function(){return Object(q.jsx)(x.a,{sx:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"},children:Object(q.jsx)(Ue.a,{})})},Me=n(442),Ee=n(443),Ke=n(447),Re=n(237),_e=n(238),Je=n(111),Ye=n(241),qe=Object(T.a)("div")((function(){return{fontSize:"10px",padding:"4px",background:"rgba(0, 26, 39, 0.9)",color:"white",borderRadius:"4px",textAlign:"center",fontFamily:"sans-serif"}})),Ge=Object(T.a)("table")((function(){return{whiteSpace:"nowrap"}})),He=Object(T.a)("tr")((function(){return{fontWeight:"bold"}})),Ve=Object(T.a)("td")((function(){return{display:"flex",alignItems:"center",justifyContent:"center"}})),Xe=Object(T.a)("circle")((function(e){return{stroke:"white",fill:e.color,strokeWidth:2}})),$e=Object(T.a)("strong")((function(){return{marginBottom:"3px",display:"inline-block"}})),Qe=function(e){var t=e.active,n=e.payload;return t&&(null===n||void 0===n?void 0:n.length)?Object(q.jsxs)(qe,{className:"area-chart-tooltip",children:[Object(q.jsx)($e,{children:ee(n[0].payload.date)}),Object(q.jsxs)(Ge,{children:[Object(q.jsx)("thead",{children:Object(q.jsxs)("tr",{children:[Object(q.jsx)("th",{}),Object(q.jsx)("th",{children:"Symbol"}),Object(q.jsx)("th",{children:"Price"}),Object(q.jsx)("th",{children:"Volume"})]})}),Object(q.jsx)("tbody",{children:n.map((function(e){var t=e.payload,n=e.name,r=e.color;return Object(q.jsxs)(He,{children:[Object(q.jsx)(Ve,{children:Object(q.jsx)("svg",{width:"14",height:"14",children:Object(q.jsx)(Xe,{cx:"7",cy:"7",r:"5",color:r})})}),Object(q.jsx)("td",{children:n}),Object(q.jsx)("td",{children:te(t.price)}),Object(q.jsx)("td",{children:t.volume?ne(t.volume):"---"})]})}))})]})]}):Object(q.jsx)("div",{})},Ze=["auto","auto"],et=["#1976d2","#F99B1C"],tt=function(e){var t=e.series,n=e.seriesKey,r=void 0===n?"price":n;return Object(q.jsx)(Me.a,{children:Object(q.jsxs)(Ee.a,{margin:{left:0,top:0,right:20,bottom:0},children:[Object(q.jsx)(Ke.a,{stroke:"#ccc",strokeDasharray:"5 5"}),Object(q.jsx)(Re.a,{dataKey:"date",scale:"time",type:"number",tickFormatter:ee,domain:Ze}),Object(q.jsx)(_e.a,{dataKey:r,type:"number",tickFormatter:"price"===r?te:ne,domain:Ze}),Object(q.jsx)(Je.a,{content:Object(q.jsx)(Qe,{})}),t.map((function(e,t){var n=et[t]||et[0];return Object(q.jsx)(Ye.a,{type:"monotone",dataKey:r,data:e.data,name:e.label,stroke:n},e.label)}))]})})},nt=function(){var e=me().portfolioAssetDayPrice,t=Object(r.useMemo)((function(){return e&&[Z("TOTAL",e,"price"),Z("TOTAL",e,"investment","Fund",!1)]}),[e]);return t?Object(q.jsx)(tt,{series:t}):Object(q.jsx)(Be,{})},rt=n(452),at=function(){var e=me(),t=e.portfolioAssetDayPrice,n=e.uniqueAssets,r=ie(ae(Date.now()),1);return t&&n?Object(q.jsx)(rt.a,{container:!0,height:"100%",children:n.map((function(e){return Object(q.jsxs)(rt.a,{item:!0,md:6,xs:12,mb:5,height:300,children:[Object(q.jsx)(g.a,{component:"span",variant:"h5",children:e})," ",Object(q.jsx)(g.a,{component:"span",variant:"h6",children:ne(Oe(t,r,e))+"%"}),Object(q.jsx)(tt,{series:[Z(e,t,"price"),Z(e,t,"investment","Fund",!1)]})]},e)}))}):Object(q.jsx)(Be,{})},ct=function(){return Object(q.jsx)(u.a,{basename:"/portapp",children:Object(q.jsx)(s.a,{theme:b,children:Object(q.jsx)(ve,{children:Object(q.jsx)(De,{children:Object(q.jsxs)(j.d,{children:[Object(q.jsx)(j.b,{exact:!0,path:"/".concat(h),children:Object(q.jsx)(Ne,{})}),Object(q.jsx)(Te,{exact:!0,path:"/".concat(O),children:Object(q.jsx)(nt,{})}),Object(q.jsx)(Te,{exact:!0,path:"/".concat(d),children:Object(q.jsx)(at,{})}),Object(q.jsx)(j.a,{to:"/".concat(O)})]})})})})})};i.a.render(Object(q.jsxs)(a.a.StrictMode,{children:[Object(q.jsx)(o.a,{}),Object(q.jsx)(ct,{})]}),document.getElementById("root"))}},[[403,1,2]]]);
//# sourceMappingURL=main.89e72bd1.chunk.js.map